<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Shared Vehicle Location</title>
    <link rel="stylesheet" href="{{ url_for('Vehicle.static', filename='css/share_location.css') }}">
    <script defer src="{{ url_for('Vehicle.static', filename='js/share_location.js') }}"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>

    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="{{ url_for('Vehicle.static', filename='js/share_location.js') }}"></script>
</head>

<body>
    <div class="container">
        <h2>Vehicle Location: {{ vehicle.LicensePlateNumber or vehicle.imei }}</h2>
        <div id="map"></div>
        <div class="info">
            <p><strong>Expires at:</strong> {{ expires_at }}</p>
            <p><strong>Location:</strong> {{ vehicle.location or "Unknown" }}</p>
            <button id="route-btn">Open in Google Maps</button>
        </div>
    </div>
    <script>
  window.vehicleLat = "{{ vehicle.latitude|default(0) }};"
  window.vehicleLng = "{{ vehicle.longitude|default(0) }};"
  window.shareToken = "{{ token }}";
</script>
</body>

</html>