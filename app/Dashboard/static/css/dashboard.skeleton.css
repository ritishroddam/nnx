/* Lightweight skeleton styles for dashboard loaders */

/* Generic skeleton box */
.skeleton-box,
.cards-skeleton,
.pie-chart-skeleton,
.devices-skeleton,
.table-skeleton,
.status-skeleton,
.weather-skeleton,
.map-skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e6e6e6 37%, #f0f0f0 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s linear infinite;
  border-radius: 6px;
}

@keyframes shimmer {
  0% { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}

/* Cards skeleton layout */
#cardsSkeleton {
  display: flex;
  gap: 16px;
  margin-bottom: 16px;
}
#cardsSkeleton .card-skeleton-box,
.card-skeleton-box {
  width: 100%;
  height: 78px;
  border-radius: 8px;
}

/* Status skeleton rows */
#statusSkeleton { margin-bottom: 12px; }
#statusSkeleton .status-row-skeleton { display:flex; gap:12px; }
.status-card-skel { flex:1; height:72px; border-radius:8px; }

/* Pie skeleton */
/* Pie skeleton - show as a semi-circle loader (top half) */
#pieChartSkeleton {
  width: 240px;
  height: 120px; /* half the circle height to create a semi-circle */
  border-radius: 120px 120px 0 0; /* rounded top corners */
  position: relative;
  overflow: hidden;
  background: linear-gradient(90deg, #f0f0f0 25%, #e6e6e6 37%, #f0f0f0 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s linear infinite;
}

/* Decorative inner arc to simulate the doughnut hollow */
#pieChartSkeleton::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 18px;
  transform: translateX(-50%);
  width: 140px;
  height: 70px;
  border-radius: 70px 70px 0 0;
  background: rgba(255,255,255,0.5);
}

/* small center/label placeholder below the semi-circle */
#pieChartSkeleton .skeleton-center {
  position: absolute;
  left: 50%;
  bottom: 6px;
  transform: translateX(-50%);
  width: 120px;
  height: 18px;
  border-radius: 6px;
  background: rgba(255,255,255,0.6);
}

/* hide original full-circle arc elements if present */
#pieChartSkeleton .skeleton-arc { display: none; }

/* Devices skeleton */
/* Card-chart / devices skeleton: match card-chart height and provide subtle lines */
#devicesSkeleton {
  width: 100%;
  height: 240px; /* larger area to match chart canvas */
  border-radius: 8px;
  margin-bottom: 8px;
  position: relative;
  background: linear-gradient(90deg, #f0f0f0 25%, #e6e6e6 37%, #f0f0f0 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s linear infinite;
}

/* horizontal guide lines to mimic chart grid */
#devicesSkeleton::before,
#devicesSkeleton::after {
  content: "";
  position: absolute;
  left: 12px;
  right: 12px;
  height: 1px;
  background: rgba(255,255,255,0.6);
}
#devicesSkeleton::before { top: 40%; }
#devicesSkeleton::after { top: 70%; }

/* Table skeleton */
#tableSkeleton { width:100%; padding:8px 0; }
#tableSkeleton .table-row-skel { height:42px; margin:6px 0; border-radius:6px; }

/* Map & weather skeletons */
#mapSkeleton { width:100%; height:160px; border-radius:8px; margin-bottom:8px; }
#weatherSkeleton { width:100%; height:120px; border-radius:8px; margin-bottom:8px; }

/* Hide skeletons when loaded via .loaded class */
.cards-skeleton.loaded,
.status-skeleton.loaded,
.pie-chart-skeleton.loaded,
.devices-skeleton.loaded,
.table-skeleton.loaded,
.map-skeleton.loaded,
.weather-skeleton.loaded {
  display: none !important;
}

/* Provide small helper skeleton elements */
.cards-skeleton .card-skeleton-box { background: #f2f2f2; }

/* ensure skeletons don't interfere with layout spacing */
.cards { margin-bottom: 12px; }

/* dark-mode adjustments */
body.dark-mode .cards-skeleton,
body.dark-mode .status-skeleton,
body.dark-mode .devices-skeleton,
body.dark-mode .table-skeleton,
body.dark-mode .map-skeleton,
body.dark-mode .weather-skeleton { background: linear-gradient(90deg,#3a3a3a 25%, #2f2f2f 37%, #3a3a3a 63%); }
