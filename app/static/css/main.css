:root{
  --bg: #ffffff;
  --panel-bg: rgba(255,255,255,0.95);
  --muted: #6c757d;
  --accent: #007bff;
  --radius: 12px;
  --topbar-height: 64px;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Inter, Arial, Helvetica, sans-serif}

.displayMap{position:fixed;inset:0;z-index:1;pointer-events:none}

body{background:var(--bg);color:#222;min-height:100vh}
body.dark-mode{background:#1f1f1f;color:#ddd}

/* Flash messages */
.flash-messages-container{position:fixed;top:calc(var(--topbar-height) + 8px);right:12px;z-index:1200;display:flex;flex-direction:column;gap:10px}
.flash-message{background:#f8f9fa;color:#222;padding:12px 14px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.12);min-width:220px;max-width:360px}
.flash-message.flash-success{background:#d4edda;color:#155724}
.flash-message.flash-danger{background:#f8d7da;color:#721c24}
.flash-message.flash-warning{background:#fff3cd;color:#856404}
.flash-message.flash-info{background:#d1ecf1;color:#0c5460}
.close-btn{background:none;border:none;font-weight:700;cursor:pointer}
body.dark-mode .flash-message{background:#2b2b2b;color:#ddd;box-shadow:0 6px 18px rgba(0,0,0,0.6)}

/* Layout shell */
.layout{display:flex;min-height:100vh}

/* Sidebar */
.sidebar{position:fixed;left:12px;top:calc(var(--topbar-height) + 12px);bottom:12px;width:64px;background:var(--panel-bg);border-radius:var(--radius);padding:12px;display:flex;flex-direction:column;align-items:center;gap:8px;z-index:30;border:1px solid rgba(0,0,0,0.06);backdrop-filter:blur(6px);transition:width .28s ease,transform .2s ease}
.dark-mode .sidebar{background:rgba(0,0,0,0.45);border-color:rgba(255,255,255,0.05)}
.sidebar:hover{width:220px;align-items:flex-start;padding-left:14px}
.logo{display:flex;align-items:center;gap:8px}
.sidebarLogo{width:40px;height:auto}
.sidebar-Extended-Logo{display:none}
.sidebar:hover .sidebar-Extended-Logo{display:inline-block}
.menu{list-style:none;width:100%;padding:0;margin-top:6px}
.menu-item{display:flex;align-items:center;padding:10px;border-radius:8px;color:var(--muted);text-decoration:none;font-size:15px;gap:10px}
.menu-item i{min-width:36px;text-align:center}
.menu-item:hover{background:rgba(0,0,0,0.06);color:var(--accent)}
.sidebar-text{display:none}
.sidebar:hover .sidebar-text{display:inline}
.submenu{display:none;padding-left:10px}
.dropdown:hover .submenu{display:block}

/* Topbar */
.topbar{position:fixed;left:12px;right:12px;top:12px;height:var(--topbar-height);background:var(--panel-bg);display:flex;align-items:center;justify-content:space-between;padding:0 18px;border-radius:var(--radius);z-index:40;border:1px solid rgba(0,0,0,0.06);backdrop-filter:blur(6px)}
.dark-mode .topbar{background:rgba(0,0,0,0.45);border-color:rgba(255,255,255,0.05)}
.topbar h1{font-size:1.05rem}
.topbar-icons{display:flex;align-items:center;gap:14px}
.notification{position:relative;display:flex;align-items:center;gap:6px}
.notification .badge1{position:absolute;top:-6px;right:-6px;background:#dc3545;width:14px;height:14px;border-radius:50%;border:2px solid #fff}

.profile img{width:34px;height:34px;border-radius:50%;object-fit:cover}
.profile-hover{display:none;position:absolute;right:12px;top:calc(var(--topbar-height) + 8px);background:var(--panel-bg);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.12);min-width:260px}
.profile:hover .profile-hover{display:block}

.theme-toggle{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:#ffd700}

/* Main content area */
.block-container{position:relative;box-shadow:0 6px 18px rgba(0,0,0,0.08);background:var(--bg);border-radius:18px;padding:18px;margin:calc(var(--topbar-height) + 24px) 24px 24px 104px;overflow:auto;min-height:60vh;z-index:20;transition:margin-left .28s ease}
.dark-mode .block-container{background:#121212;color:#ddd}

/* When sidebar expands, adjust main area */
.sidebar:hover ~ .block-container{margin-left:264px}

/* Notifications list */
.notification-dropdown{position:absolute;right:0;top:44px;min-width:300px;background:var(--panel-bg);border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.12);overflow:auto;max-height:360px;padding:6px}

/* small utilities */
.button{padding:10px 14px;border-radius:8px;background:var(--accent);color:#fff;border:none;cursor:pointer}

.profile-settings{padding:10px;border-radius:10px;background:rgba(0,0,0,0.03)}

/* Accessibility and scrollbar handling */
.block-container{scrollbar-width:auto}
.block-container::-webkit-scrollbar{height:8px;width:8px}
.block-container::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.12);border-radius:8px}

/* Responsive breakpoints */
@media (max-width: 1024px){
  :root{--topbar-height:60px}
  .sidebar{left:8px;top:calc(var(--topbar-height) + 10px)}
  .block-container{margin-left:88px;margin-right:12px}
}

@media (max-width: 768px){
  /* Collapse sidebar to a thin left rail */
  .sidebar{width:56px;left:8px;top:calc(var(--topbar-height) + 10px);bottom:8px}
  .sidebar:hover{width:56px}
  .sidebar-text,.sidebar-Extended-Logo{display:none}
  .topbar{left:8px;right:8px}
  .block-container{margin:calc(var(--topbar-height) + 16px) 12px 12px 72px}
}

@media (max-width: 520px){
  /* On small phones switch to top navigation and full-width content */
  .sidebar{display:none}
  .topbar{left:8px;right:8px;padding:0 12px}
  .block-container{margin:calc(var(--topbar-height) + 12px) 10px 12px 10px;border-radius:12px}
  .profile-hover{right:10px;top:calc(var(--topbar-height) + 6px)}
  .topbar h1{font-size:1rem}
  .notification-dropdown{right:8px;top:48px;min-width:240px}
}

/* Material icons specific adjustment */
.material-symbols-outlined{font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24}
.material-symbols-outlined.fill{font-variation-settings:'FILL' 1}