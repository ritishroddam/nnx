{% extends "base.html" %}

{% block head %}

<link rel="stylesheet" href="{{ url_for('SOSreport.static', filename='css/style.css') }}" />
<script defer src="{{ url_for('SOSreport.static', filename='js/script.js') }}"></script>;
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCPEMAElTxMzur0DK-Mh3fPUVmdQVBJu8A"></script>
<title>SOS Reports</title>
{% endblock %}

{% block h1 %}
Ignition Report
{% endblock %}

{% block block_container %}
<div class="table-container">
    <h2 style="text-align: center; color: #042f5d;">SOS Alerts Report</h2>

    <div id="search-container">
        <input type="text" id="search-input" placeholder="Search by IMEI number..." oninput="filterLogs()">
        <button id="search-btn" onclick="filterLogs()">Search</button>
        <button id="download-btn" onclick="downloadExcel()">Download as Excel</button>
    </div>

    <div class="table-wrapper">
        <table id="sos-table">
            <thead>
                <tr>
                    <th>IMEI</th>
                    <th>Latitude</th>
                    <th>Longitude</th>
                    <th>Timestamp</th>
                    <th>View on Map</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>
<div id="map"></div>

{% endblock %}